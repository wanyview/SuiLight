# SuiLight 知识沙龙 - 战略规划

## 一、核心体系

```
┌─────────────────────────────────────────────────────────────────┐
│                        知识枢纽 (Knowledge Hub)                  │
│                    知识资产的管理与分发中枢                       │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐       │
│    │  知识沙龙   │ ──▶ │  知识胶囊   │ ──▶ │  知识枢纽   │       │
│    │  Discussion │      │  Capsule    │      │     Hub     │       │
│    └─────────────┘    └─────────────┘    └─────────────┘       │
│          │                  │                  │                │
│          ▼                  ▼                  ▼                │
│    • 100位思想家       • 核心洞见          • 知识分发          │
│    • 多轮讨论          • 支撑证据          • 知识共享          │
│    • 涌现智慧          • DATM评价          • 知识协作          │
│                       • 版本演进           • 知识图谱          │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 二、战略目标

### 短期目标 (1个月)

**构建完整的"沙龙→胶囊"闭环**

| 目标 | 指标 | 状态 |
|------|------|------|
| 讨论自动生成胶囊 | 产出率 ≥80% | ✅ |
| 胶囊可存储检索 | 存储 + 全文搜索 | ✅ |
| 胶囊可迭代演进 | 版本控制 | ✅ |
| 胶囊可复用 | 模板 + 推荐 | ✅ |

### 中期目标 (3个月)

**构建"胶囊→枢纽"分发体系**

| 目标 | 指标 | 状态 |
|------|------|------|
| 胶囊形成知识网络 | 知识图谱 | ⏳ |
| 胶囊可分享传播 | 分享链接 | ⏳ |
| 胶囊可协作编辑 | 多人协作 | ⏳ |
| 胶囊可聚合 | 主题聚合 | ⏳ |

### 长期目标 (6个月)

**构建知识生态**

| 目标 | 指标 | 状态 |
|------|------|------|
| 知识可交易 | 知识市场 | 📋 |
| 知识可订阅 | 订阅系统 | 📋 |
| 知识可问答 | AI 问答 | 📋 |
| 知识可调用 | OpenAPI | 📋 |

---

## 三、功能规划

### Phase 1: 沙龙→胶囊闭环 (已完成)

#### 1.1 知识沙龙

| 功能 | 状态 | 说明 |
|------|------|------|
| Agent 注册 | ✅ | 100位思想家 |
| 讨论管理 | ✅ | 多轮讨论 |
| 观点收集 | ✅ | 贡献记录 |
| 涌现分析 | ✅ | 跨领域洞见 |

#### 1.2 知识胶囊

| 功能 | 状态 | 说明 |
|------|------|------|
| 胶囊生成 | ✅ | 从讨论提取 |
| 胶囊存储 | ✅ | SQLite |
| 胶囊检索 | ✅ | FTS5 搜索 |
| 胶囊评价 | ✅ | DATM 评分 |
| 胶囊版本 | ✅ | 版本控制 |
| 胶囊模板 | ✅ | 5种预设 |
| 胶囊推荐 | ✅ | 相似/热门 |

---

### Phase 2: 胶囊→枢纽分发 (待开发)

#### 2.1 知识图谱

```
需求:
├── 胶囊关系: 引用/衍生/相关
├── 领域聚类: 按领域组织胶囊
├── 时间线: 胶囊演进历史
└── 可视化: 交互式展示

技术方案:
├── 图数据库: Neo4j (可选)
└── 可视化: D3.js / Cytoscape.js

API 设计:
├── GET /api/capsules/{id}/graph
├── GET /api/capsules/{id}/related
└── GET /api/knowledge-map
```

#### 2.2 知识分享

```
需求:
├── 生成分享链接: 唯一 URL
├── 嵌入代码: iframe 嵌入
├── 导出功能: PDF/Markdown
└── 二维码: 移动端分享

技术方案:
├── 短链接服务
├── PDF 生成: WeasyPrint
└── 二维码: qrcode

API 设计:
├── POST /api/capsules/{id}/share
├── GET /api/capsules/{id}/export
└── GET /api/share/{short_id}
```

#### 2.3 知识协作

```
需求:
├── 多人编辑: 实时协作
├── 评论功能: 对胶囊评论
├── 点赞/收藏: 用户反馈
└── 版本对比: V1 vs V2

技术方案:
├── WebSocket: 实时同步
└── 操作日志: OT/CRDT

API 设计:
├── WS /api/capsules/{id}/ws
├── POST /api/capsules/{id}/comment
├── POST /api/capsules/{id}/like
└── GET /api/capsules/{id}/compare?v1=1&v2=2
```

#### 2.4 知识聚合

```
需求:
├── 主题聚合: 多个胶囊聚合成主题
├── 观点对比: 对比不同胶囊
├── 综合胶囊: 从多个胶囊生成
└── 争议识别: 识别冲突观点

技术方案:
├── 聚类算法: K-means
├── 相似度计算: TF-IDF / Embedding
└── LLM 融合: 多胶囊综合

API 设计:
├── POST /api/capsules/aggregate
├── GET /api/capsules/{id}/compare/{other_id}
└── POST /api/capsules/synthesize
```

---

### Phase 3: 知识生态 (长期)

#### 3.1 知识市场

```
需求:
├── 胶囊交易: 付费/免费
├── 创作者收益: 分成机制
├── 评价系统: 用户评分
└── 排行榜: 热门/最新

技术方案:
├── 支付集成: Stripe/支付宝
├── 用户系统: 完整账户体系
└── 交易记录: 区块链(可选)
```

#### 3.2 知识订阅

```
需求:
├── 领域订阅: 订阅感兴趣的领域
├── 作者订阅: 订阅喜欢的创作者
├── 关键词订阅: 订阅特定关键词
└── 推送通知: 新胶囊通知

技术方案:
├── 消息队列: RabbitMQ
├── 推送服务: WebPush
└── 邮件通知: SendGrid
```

#### 3.3 知识问答

```
需求:
├── 基于胶囊的问答: RAG 模式
├── 智能推荐: 根据问题推荐胶囊
├── 对话历史: 多轮对话
└── 引用标注: 回答来源

技术方案:
├── 向量检索: Milvus / pgvector
├── LLM 集成: GPT / Claude
└── RAG 流程: 检索 + 生成
```

#### 3.4 开放 API

```
需求:
├── RESTful API: 完整 CRUD
├── SDK: Python / JavaScript
├── Webhook: 事件通知
└── 文档: OpenAPI 3.0

API 设计:
├── GET /api/v1/capsules
├── GET /api/v1/search
├── POST /api/v1/capsules
└── GET /api/v1/capsules/{id}
```

---

## 四、衡量指标

### 核心指标

| 指标 | 目标 (1个月) | 目标 (3个月) | 目标 (6个月) |
|------|-------------|-------------|-------------|
| 胶囊产出率 | ≥80% | ≥90% | ≥95% |
| 质量分数均值 | ≥60 | ≥65 | ≥70 |
| A级胶囊占比 | ≥20% | ≥25% | ≥30% |
| 胶囊复用率 | - | ≥30% | ≥50% |

### 运营指标

| 指标 | 目标 (1个月) | 目标 (3个月) | 目标 (6个月) |
|------|-------------|-------------|-------------|
| 周新增胶囊 | ≥20 | ≥50 | ≥100 |
| 周活跃用户 | - | ≥100 | ≥500 |
| 胶囊分享数 | - | ≥10/胶囊 | ≥50/胶囊 |
| API 调用量 | - | 1万/天 | 10万/天 |

---

## 五、技术架构

### 当前架构

```
┌─────────────────────────────────────────────────────────────────┐
│                        前端                                       │
│    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐       │
│    │  Web UI     │    │  Streamlit  │    │  Mobile     │       │
│    └─────────────┘    └─────────────┘    └─────────────┘       │
└─────────────────────────────┬───────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│                        API (FastAPI)                             │
│    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐       │
│    │  Agent      │    │ Discussion  │    │  Capsule    │       │
│    └─────────────┘    └─────────────┘    └─────────────┘       │
└─────────────────────────────┬───────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│                        存储 (SQLite)                             │
│    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐       │
│    │  Agents     │    │ Discussions │    │  Capsules   │       │
│    └─────────────┘    └─────────────┘    └─────────────┘       │
└─────────────────────────────────────────────────────────────────┘
```

### 未来架构

```
┌─────────────────────────────────────────────────────────────────┐
│                        前端                                       │
│    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐       │
│    │  Web UI     │    │  Streamlit  │    │  Mobile     │       │
│    └─────────────┘    └─────────────┘    └─────────────┘       │
└─────────────────────────────┬───────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│                        API Gateway                               │
│    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐       │
│    │  Auth       │    │  Rate Limit │    │  Cache      │       │
│    └─────────────┘    └─────────────┘    └─────────────┘       │
└─────────────────────────────┬───────────────────────────────────┘
                              │
        ┌─────────────────────┼─────────────────────┐
        ▼                     ▼                     ▼
┌─────────────┐    ┌─────────────────┐    ┌─────────────┐
│  核心服务    │    │    知识图谱     │    │   AI 服务   │
│  (FastAPI)  │    │    (Neo4j)      │    │  (LLM/RAG)  │
└─────────────┘    └─────────────────┘    └─────────────┘
        │
        ▼
┌─────────────────────────────────────────────────────────────────┐
│                        数据层                                    │
│    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐       │
│    │  PostgreSQL │    │   Redis     │    │  S3/OSS     │
│    └─────────────┘    └─────────────┘    └─────────────┘       │
└─────────────────────────────────────────────────────────────────┘
```

---

## 六、行动计划

### 本周 (P2 启动)

| 任务 | 输出 | 负责人 |
|------|------|--------|
| 知识图谱设计 | 技术方案 | 待定 |
| 分享功能设计 | API 设计 | 待定 |
| 协作功能设计 | 技术方案 | 待定 |

### 下周 (P2 开发)

| 任务 | 输出 | 预计时间 |
|------|------|----------|
| 知识图谱核心 | 图谱 API | 1周 |
| 分享功能 | 分享链接 | 3天 |
| 协作功能 | 评论系统 | 1周 |

### 下月 (P2 完成)

| 任务 | 输出 | 预计时间 |
|------|------|----------|
| 知识聚合 | 主题聚合 | 1周 |
| 知识图谱可视化 | 前端展示 | 1周 |
| 测试与优化 | 稳定版本 | 1周 |

---

## 七、风险与应对

| 风险 | 可能性 | 影响 | 应对措施 |
|------|--------|------|----------|
| 技术复杂度高 | 中 | 高 | 分阶段开发，MVP 优先 |
| 用户增长慢 | 高 | 中 | 优化分享功能，鼓励传播 |
| 内容质量低 | 中 | 中 | 强化评价体系，淘汰低质 |
| 竞争压力大 | 中 | 中 | 差异化定位，聚焦专业领域 |

---

## 八、总结

### 核心价值

```
SuiLight 知识沙龙 = 让知识产生、沉淀、分发的完整闭环

沙龙 → 产生: 100位思想家多轮讨论，涌现智慧
胶囊 → 沉淀: 精华产出，可评价、可迭代
枢纽 → 分发: 知识网络，可分享、可协作
```

### 差异化优势

| 维度 | SuiLight | 传统方案 |
|------|----------|----------|
| 知识产生 | AI + 人类专家协作 | 纯人类讨论 |
| 知识评价 | DATM 客观评分 | 主观评价 |
| 知识形态 | 结构化胶囊 | 文档/笔记 |
| 知识网络 | 自动关联 | 手动整理 |

---

**下一步**: 确认战略方向后，开始 P2 开发！
